
//移动平均数分为MA（简单移动平均数）和EMA（指数移动平均数），其计算公式如下：［C为收盘价，N为周期数］：
//MA（N）=（C1+C2+……CN）/N


//MA（7）=（C1+C2+……CN）/7

//MA（30）=（C1+C2+……CN）/30

// EMA（N）=2/（N+1）*（C-昨日EMA）+昨日EMA；


//12日EMA的算式为
//EMA（12）=昨日EMA（12）*11/13+C*2/13＝(C－昨日的EMA)×0.1538＋昨日的EMA；   即为MACD指标中的快线-快速平滑移动平均线；
//26日EMA的算式为
//EMA（26）=昨日EMA（26）*25/27+C*2/27；   即为MACD指标中的慢线-慢速平滑移动平均线；

//今日的DEA值（即MACD值）=前一日DEA*8/10+今日DIF*2/10.

关键的一点是：新股上市首日，其DIFF,DEA以及MACD都为0，因为当日不存在前一日，无法做迭代。而计算新股上市第二日的EMA时，前一日的EMA需要用收盘价（而非0）来计算。另外，需要注意，计算过程小数点后四舍五入保留4位小数，最后显示的时候四舍五入保留3位小数。

具体计算公式及例子如下：
EMA（12）= 前一日EMA（12）×11/13＋今日收盘价×2/13
EMA（26）= 前一日EMA（26）×25/27＋今日收盘价×2/27
DIFF=今日EMA（12）- 今日EMA（26）
DEA（MACD）= 前一日DEA×8/10＋今日DIF×2/10
BAR=2×(DIFF－DEA)
对理工检测：
20091218日：
新股上市，DIFF=0, DEA=0, MACD=0，收盘价55.01
20091219日：
收盘价53.7
EMA（12）=55.01+(53.7-55.01)×2/13=54.8085
EMA（26）=55.01+(53.7-55.01)×2/27=54.s913
DIFF=EMA（12）- EMA（26）= 54.8085 - 54.913 = -0.1045  （-0.104？）
DEA=0+(-0.1045)X2/10=-0.0209
BAR=2*((-0.1045)-(-0.0209))=-0.1672
对法因数控：
20080905日：
新股上市，DIFF=0, DEA=0, MACD=0，收盘价12.34
20080908日：
收盘价11.11
EMA（12）=12.34+(11.11-12.34)×2/13=12.1508
EMA（26）=12.34+(11.11-12.34)×2/27=12.2489
DIFF=EMA（12）- EMA（26）= 12.1508 - 12.2489 = -0.0981
DEA=0+(-0.0981)X2/10=-0.01962
BAR=2*((-0.0981)-(-0.01962))=-0.15696


//KDJ(9,3.3),下面以该参数为例说明计算方法。
//9，3，3代表指标分析周期为9天，K值D值为3天
//第一天的K，D通常初始化为50
//RSV(9)=（今日收盘价－9日内最低价）÷（9日内最高价－9日内最低价）×100
//K(3日)=（当日RSV值+2*前一日K值）÷3
//D(3日)=（当日K值+2*前一日D值）÷3
//J=3K－2D
